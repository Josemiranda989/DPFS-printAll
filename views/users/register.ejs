<!DOCTYPE html>
<html lang="es">
  <%- include('../partials/head.ejs', {style: "home"}) %>
  <body>
    <!-- Navbar -->
    <%- include('../partials/navbar.ejs') %>
    <!-- Main -->
    <main class="container">
      <h1>Registrarse</h1>

      <ul class="errors"></ul>

      <form
        action="/users/register"
        method="post"
        enctype="multipart/form-data"
      >
        <div>
          <label for="name">Nombre</label>
          <input
            type="text"
            name="name"
            id="name"
            placeholder="Lucas Padilla"
            value="<%= locals.old?.name ? old.name : '' %>"
          />
          <% if (locals.errors?.name) { %>
          <p class="error"><%= locals.errors.name.msg %></p>
          <% } %>
        </div>

        <div>
          <label for="email">Email</label>
          <input
            type="email"
            name="email"
            id="email"
            placeholder="lucas@dh.com"
            value="<%= locals.old?.email ? old.email : '' %>"
          />
          <% if (locals.errors?.email) { %>
          <p class="error"><%= locals.errors.email.msg %></p>
          <% } %>
        </div>

        <div>
          <label for="direction">Direccion</label>
          <input
            type="text"
            name="direction"
            id="direction"
            placeholder="Siempre viva 123"
            value="<%= locals.old?.direction ? old.direction : '' %>"
          />
          <% if (locals.errors?.direction) { %>
          <p class="error"><%= locals.errors.direction.msg %></p>
          <% } %>
        </div>

        <div>
          <label for="phonenumber">Teléfono</label>
          <input
            type="number"
            name="phonenumber"
            id="phonenumber"
            value="<%= locals.old?.phonenumber ? old.phonenumber : '' %>"
          />
          <% if (locals.errors?.phonenumber) { %>
          <p class="error"><%= locals.errors.phonenumber.msg %></p>
          <% } %>
        </div>

        <div>
          <label for="avatar">Foto Perfil</label>
          <input type="file" name="avatar" id="avatar" />
        </div>

        <div>
          <label for="password">Contraseña</label>
          <input
            type="password"
            name="password"
            id="password"
            value="<%= locals.old?.password ? old.password : '' %>"
          />
          <% if (locals.errors?.password) { %>
          <p class="error"><%= locals.errors.password.msg %></p>
          <% } %>
        </div>

        <button type="submit">Registrarse</button>
      </form>
    </main>
    <!-- Footer -->
    <%- include('../partials/footer.ejs') %>
    <!-- Script JS -->
    <script src="https://unpkg.com/validator@latest/validator.min.js"></script>
    <script src="/js/validations/register.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </body>
</html>
